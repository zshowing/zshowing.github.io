---
layout: default
comments: true
---
{% assign page_url = page.url | prepend: site.url %}
{% assign page_image = page.image | default: site.social_image | prepend: site.url %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page_url }}"
  },
  "headline": "{{ page.title | strip_html | strip_newlines }}",
  "description": "{{ page.description | default: page.excerpt | strip_html | strip_newlines | truncate: 160, '...' }}",
  "image": "{{ page_image }}",
  "author": {
    "@type": "Person",
    "name": "{{ site.author.name | default: site.title | default: 'Jon Showing' }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title | default: 'Jon Showing' }}"
  },
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{% if page.last_modified_at %}{{ page.last_modified_at | date_to_xmlschema }}{% else %}{{ page.date | date_to_xmlschema }}{% endif %}",
  "url": "{{ page_url }}"
}
</script>
<h1 class="post-title">
  <span>
    {% if page.titlehtml %}
      {{ page.titlehtml }}
    {% else %}
      {{ page.title }}
    {% endif %}
  </span>
</h1>
<div class="post-meta">
  <span class="post-date">{{ page.date | date: "发布于 %Y-%m-%d" }}</span>
	 | <span class="post-category">分类于 
  {% for cate in page.categories %}
    {% if cate != 'blog' %}</span>
      <a href="{{ BASE_PATH }}/blog/#{{cate}}">{{ cate }}</a>
    {% endif %}
  {% endfor%}
	<div class="post-desc">
		{{ page.description }} 
	</div>
</div>
<div id="fullpage" onclick="closingImage(this)"></div>
<div id="container">
  <div id="content">
    <div class="post">
      {{ content }}
      <div id="more">
        {% assign has_res=false %}
        {% capture res %}
          {% for post in site.posts %}
            {% if post.blog == true and post.tag == page.tag and page.title != post.title%}
              {% assign has_res=true %}
              <li><a href="{{ BASE_PATH }}{{ post.url }}">{{post.title}}</a></li>
            {% endif %}
          {% endfor %}
        {% endcapture %}
        </div>
      </div>
    </div>
  </div>
  <!-- Tags -->
  <div class="post-tags">
    {% for tag in page.tags %}
      {% capture tag_name %}{{ tag }}{% endcapture %}
        <span class="post-single-tag"><a href="/tag/{{ tag_name }}">{{ tag_name }}</a></span>
    {% endfor %}
  </div>

  <!-- Series links -->
  {% if page.is_series == true %}
    <div class="post-series-container">
      <div class="post-series">
        <div class="post-series-title"><span id="title">{{ page.series_title | upcase }}</span><span id="series">系列</span></div>
        {% assign posts = site.posts | where: "is_series", true | where: "series_title", page.series_title | sort: 'date' %}
        <div class="">
          <ul class="post-series-single">
          {% for post in posts %}
              {% if post.title == page.title %}
                <li class="post-series-current"><span class="post-date">{{ post.date | date: "%Y-%m-%d" }}</span>{{ post.title }}</li>
              {% else %}
                <li><span class="post-date">{{ post.date | date: "%Y-%m-%d" }}</span><a href="{{ post.url }}">{{ post.title }}</a></li>
              {% endif %}
          {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  {% endif %}

  {% include comments-giscus.html %}
</div>

{% include code-style.html %}
